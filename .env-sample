# ============================================
# OPENSTADT CONFIGURATION
# ============================================
# Quick start: uv sync && uv run flask run
# Full mode: uv sync --extra full (Redis + Celery + Meilisearch)
# ============================================

# === CORE (Required) ===
SECRET_KEY=change-me-in-production
FLASK_APP=run.py
FLASK_DEBUG=1
SECURITY_PASSWORD_SALT=change-me-in-production
SECURITY_TOTP_SECRETS=secret1,secret2

# === DATABASE ===
# SQLite used by default (instance/openstadt.db) - no config needed
# PostgreSQL with PostGIS (recommended for production)
#SQLALCHEMY_DATABASE_URI=postgresql://postgres:pass@localhost/openstadt

# === OPENSTADT SPECIFIC ===
# Path to city config YAML files
#CITIES_CONFIG_PATH=./config/cities
# Default city to redirect to from homepage
DEFAULT_CITY=mannheim

# === FULL MODE - Redis & Celery (optional) ===
#REDIS_URL=redis://localhost:6379/1
#CELERY_BROKER_URL=redis://localhost:6379/2
#CELERY_RESULT_BACKEND=redis://localhost:6379/3

# === MEILISEARCH (optional - for full-text search) ===
#MEILISEARCH_URL=http://localhost:7700
#MEILISEARCH_API_KEY=your_master_key

# === OAUTH (optional) ===
GOOGLE_AUTH_ENABLED=False
GOOGLE_OAUTH_CLIENT_ID=your_google_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_google_client_secret

GITHUB_AUTH_ENABLED=False
GITHUB_OAUTH_CLIENT_ID=your_github_client_id
GITHUB_OAUTH_CLIENT_SECRET=your_github_client_secret

# For local development only (remove in production)
OAUTHLIB_INSECURE_TRANSPORT=1

# === MAIL (optional) ===
MAIL_SERVER=smtp.sendgrid.net
MAIL_USERNAME=sendgrid
MAIL_PASSWORD=sendgrid_secure_password
SECURITY_EMAIL_SENDER=info@openstadt.de

# === SESSION & COOKIES ===
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
DISABLE_MULTIPLE_SESSIONS=False

# ============================================
# DOCKER CONFIGURATION (docker compose up)
# ============================================
#COMPOSE_PROJECT_NAME=openstadt
#PYTHONUNBUFFERED=true
#DOCKER_UID=1000
#DB_PASSWORD=verystrongpass
#REDIS_PASSWORD=verystrongpass
#SQLALCHEMY_DATABASE_URI=postgresql://openstadt:${DB_PASSWORD}@postgres/openstadt
